<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Analizador de JWT - Lenguajes Formales 2025-2</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <header>
      <h1>Analizador y Validador de JWT</h1>
      <p>Proyecto Final - Lenguajes Formales 2025-2</p>
    </header>

    <main>
      <section class="input-section">
        <h2>Ingresa tu Token JWT</h2>
        <textarea id="jwtInput" placeholder="Pega tu token JWT aquí..."></textarea>
        <div class="button-group">
          <button id="analyzeAllBtn" class="btn-primary">Analizar Token Completo</button>
          <button id="validateBtn" class="btn-validate">Validar Token</button>
          <div class="dropdown">
            <button class="btn-secondary" id="phaseBtn">Analizar por Fase ▾</button>
            <div class="dropdown-content">
              <button class="phase-btn" id="lexicoBtn">Análisis Léxico</button>
              <button class="phase-btn" id="sintacticoBtn">Análisis Sintáctico</button>
              <button class="phase-btn" id="semanticoBtn">Análisis Semántico</button>
            </div>
          </div>
        </div>
      </section>

      <!-- === FASE 5: CODIFICACIÓN DE JWT === -->
      <section class="encode-section">
        <h2>Codificar Nuevo Token JWT</h2>

        <label for="payloadInput">Payload (JSON):</label>
        <textarea id="payloadInput" placeholder='{"sub": "123", "name": "Alixon"}'></textarea>

        <label for="secretInput">Clave Secreta:</label>
        <input type="text" id="secretInput" placeholder="Ej: mi_clave_super_segura">

        <label for="algorithmSelect">Algoritmo:</label>
        <select id="algorithmSelect">
          <option value="HS256">HS256 (SHA-256)</option>
          <option value="HS384">HS384 (SHA-384)</option>
          <option value="HS512">HS512 (SHA-512)</option>
        </select>

        <label for="expirationInput">Expira en (segundos):</label>
        <input type="number" id="expirationInput" placeholder="Ej: 3600">

        <button id="encodeBtn" class="btn-encode">Generar Token JWT</button>
      </section>



      <section class="output-section">
        <h2 id="outputTitle">Resultados</h2>
        <pre id="output"></pre>
      </section>
    </main>

    <footer>
      <p>Desarrollado por [Estefania Rojas - Alixon Lopez — Flask + MongoDB + HTML/CSS/JS</p>
    </footer>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
